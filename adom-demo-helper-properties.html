<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-tabs/paper-tabs.html">
<link rel="import" href="../paper-tabs/paper-tab.html">
<link rel="import" href="../iron-ajax/iron-ajax.html">
<link rel="import" href="../iron-icon/iron-icon.html">
<link rel="import" href="../iron-icons/iron-icons.html">
<link rel="import" href="../vaadin-icons/vaadin-icons.html">
<link rel="import" href="../marked-element/marked-element.html">
<link rel="import" href="../iron-pages/iron-pages.html">
<link rel="import" href="../paper-button/paper-button.html">
<link rel="import" href="../paper-input/paper-input.html">
<link rel="import" href="../paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../paper-listbox/paper-listbox.html">
<link rel="import" href="../paper-item/paper-item.html">
<link rel="import" href="../paper-swatch-picker/paper-swatch-picker.html">
<link rel="import" href="../paper-input/paper-textarea.html">
<link rel="import" href="../paper-toggle-button/paper-toggle-button.html">
<link rel="import" href="../paper-toast/paper-toast.html">

<!--
<link rel="import" href="../juicy-jsoneditor/juicy-jsoneditor.html">-->
<link rel="import" href="adom-demo-helper-properties-styles.html">

<!--
`adom-demo-helper-properties`
Is a component created for to be used in other demo components with properties

@demo demo/index.html
-->

<dom-module id="adom-demo-helper-properties">
  <style include="adom-demo-helper-properties-styles adom-demo-helper-properties-shared-styles"></style>
  <template>

    <iron-ajax auto url="[[bower]]" handle-as="json" last-response="{{_metadata}}" on-response="_getBower" on-error="_getBowerError"></iron-ajax>
    <iron-ajax auto url="[[descriptorUrl]]" handle-as="json" last-response="{{_analysis}}" on-response="_getAnalysis" on-error="_getAnalysisError"></iron-ajax>
    <iron-ajax auto url="[[cssUrl]]" handle-as="text" last-response="{{_cssStyles}}" on-response="_getCss" on-error="_getCssError"></iron-ajax>

    <article class="main">
      <h1 class="main__title">
        [[componentName]]
      </h1>
      <span class="main__meta" hidden$="[[!_metadata.author]]">
        <iron-icon class="main__icon" icon="vaadin:user"></iron-icon>
        [[_metadata.author]]
      </span>
      <span class="main__meta" hidden$="[[!_metadata.version]]">
        <iron-icon class="main__icon" icon="vaadin:tag"></iron-icon>
        V [[_metadata.version]]
      </span>
      <span class$="main__meta [[_computeLibrary(_metadata.library)]]" hidden$="[[!_metadata.library]]">
        <iron-icon class="main__icon" src$="[[_computeLibrary(_metadata.library)]]"></iron-icon>
        [[_metadata.library]]
      </span>
      <p class="main__description">
        [[_metadata.description]]
      </p>

      <div class="main__content">
        <div class="main__content__action">
          <h2 id="titleView" class="main__content__action__titleView">
          </h2>
          <div class="main__content__action__selected">
            <button id="buttonDoc" class="main__content__action__selected__button" on-click="_setView">
              Documentaci√≥n
            </button>
            <button id="buttonDemo" class="main__content__action__selected__button" on-click="_setView">
              Demo
            </button>
            <div id="selector" class="main__content__action__selected__selector"></div>
          </div>
        </div>
        <div class="main__content__wrap">
          <div id="viewDoc" class="main__content__wrap__views">Contenido doc</div>
          <div id="viewDemo" class="main__content__wrap__views">

            <div class="main__content__wrap__views__tabs">
              <paper-tabs selected="{{optionSelected}}" noink scrollable>
                <paper-tab>
                  <iron-icon icon="vaadin:mobile-browser"></iron-icon>Component responsive
                </paper-tab>
                <paper-tab>
                  <iron-icon icon="vaadin:curly-brackets"></iron-icon>Component properties
                </paper-tab>
                <paper-tab>
                  <iron-icon icon="vaadin:paintbrush"></iron-icon>Component css vars
                </paper-tab>
                <paper-tab>
                  <iron-icon icon="vaadin:form"></iron-icon>Component methods
                </paper-tab>
                <paper-tab>
                  <iron-icon icon="vaadin:code"></iron-icon>Component slot
                </paper-tab>
                <paper-tab>
                  <iron-icon icon="vaadin:file-tree"></iron-icon>component data
                </paper-tab>
              </paper-tabs>
              <div class="main__content__wrap__views__tabs">
                <iron-pages class="main__content__wrap__views__tabs__pages" selected="[[optionSelected]]">
                  <section class="main__content__wrap__views__tabs__pages__content">
                    <paper-button id="mobile" raised noink on-tap="_setDevice">
                      <iron-icon icon="vaadin:mobile"></iron-icon> Mobile
                    </paper-button>
                    <paper-button id="tablet" raised noink on-tap="_setDevice">
                      <iron-icon icon="vaadin:tablet"></iron-icon> Tablet
                    </paper-button>
                    <paper-button id="desktop" raised noink on-tap="_setDevice">
                      <iron-icon icon="vaadin:browser"></iron-icon> Desktop
                    </paper-button>
                    <paper-button id="fullsize" raised noink on-tap="_setDevice">
                      <iron-icon icon="vaadin:expand-full"></iron-icon> Fullsize
                    </paper-button>
                    <span class="main__content__wrap__views__tabs__pages__content__span">
                      Custom:
                    </span>
                    <paper-input class="main__content__wrap__views__tabs__pages__content__input"  label="width" value="{{device.width}}"></paper-input>
                    <paper-input class="main__content__wrap__views__tabs__pages__content__input" label="height" value="{{device.height}}"></paper-input>
                  </section>
                  <section class="main__content__wrap__views__tabs__pages__content">
                    <template is="dom-repeat" items="[[_propertiesComponent]]">
                      <div class="main__content__wrap__views__tabs__pages__content__tooltip" hidden$="[[_computeProperties(item)]]">
                        <template is="dom-if" if="[[!_computeType(item)]]">
                          <paper-input class="main__content__wrap__views__tabs__pages__content__input" label="[[item.name]]" value="{{item.defaultValue}}" on-change="_buildIframe">
                            <template is="dom-if" if="[[_computeColor(item)]]">
                              <paper-swatch-picker slot="prefix" class="main__content__wrap__views__tabs__pages__content__input" color="{{item.defaultValue}}" on-color-changed="_buildIframe"></paper-swatch-picker>
                            </template>
                          </paper-input>
                        </template>
                        <template is="dom-if" if="[[_computeType(item)]]">
                          <paper-dropdown-menu class="main__content__wrap__views__tabs__pages__content__input" label="[[item.name]]" vertical-align="top" horizontal-align="left">
                            <paper-listbox slot="dropdown-content" class="dropdown-content" selected="{{item.defaultValue}}" on-selected-changed="_buildIframe">
                              <paper-item>false</paper-item>
                              <paper-item>true</paper-item>
                            </paper-listbox>
                          </paper-dropdown-menu>
                        </template>
                        <span class="tooltiptext">[[item.description]]</span>
                      </div>
                    </template>
                  </section>
                  <section class="main__content__wrap__views__tabs__pages__content">
                    <template is="dom-repeat" items="[[_cssVars]]">
                      <div class="main__content__wrap__views__tabs__pages__content__tooltip">
                        <paper-input class="main__content__wrap__views__tabs__pages__content__input" label="[[item.varName]]" value="{{item.value}}" on-change="_buildIframe">
                          <template is="dom-if" if="[[_computeColor(item)]]">
                            <paper-swatch-picker slot="prefix" color="{{item.value}}" on-color-changed="_buildIframe"></paper-swatch-picker>
                          </template>
                        </paper-input>
                        <span class="tooltiptext">[[item.description]]</span>
                      </div>
                    </template>
                  </section>
                  <section class="main__content__wrap__views__tabs__pages__content">
                    methods
                  </section>
                  <section class="main__content__wrap__views__tabs__pages__content column">
                    <paper-toggle-button id="checkSlot" checked="{{allowSlot}}" on-checked-changed="_buildIframe">Usar slot</paper-toggle-button>
                    <paper-textarea class="main__content__wrap__views__tabs__pages__content__textarea" label="slot content" value="{{_slotted}}" on-value-changed="_buildIframe"></paper-textarea>
                  </section>
                  <paper-toast id="toast">
                    <div id="toastContent" class="toastContent">
                    </div>
                  </paper-toast>
                </iron-pages>
              </div>
            </div>
            <div class="main__content__wrap__views__demo">
              <div id="phone" style$="width: [[device.width]]; height: [[device.height]]" class="main__content__wrap__views__demo__phone">
                <iframe srcdoc="[[_builtIframe]]" id="frame"></iframe>
              </div>
            </div>
            <div class="main__content__wrap__views__code">
              [[builtComponent]]
            </div>
          </div>
        </div>
      </div>
    </article>
  </template>
  <script src="adom-demo-helper-properties.js"></script>
</dom-module>
